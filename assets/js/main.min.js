"use strict";

// Animation when scroll 
ScrollReveal({
  distance: '200px',
  duration: 1000,
  delay: 500
});

// Scroll bottom to top 
ScrollReveal().reveal('.scroll-bottom-to-top1', {
  delay: 200,
  origin: 'bottom'
});
ScrollReveal().reveal('.scroll-bottom-to-top2', {
  delay: 300,
  origin: 'bottom'
});
ScrollReveal().reveal('.scroll-bottom-to-top3', {
  delay: 400,
  origin: 'bottom'
});
ScrollReveal().reveal('.scroll-bottom-to-top4', {
  delay: 500,
  origin: 'bottom'
});
ScrollReveal().reveal('.scroll-bottom-to-top5', {
  delay: 600,
  origin: 'bottom'
});
ScrollReveal().reveal('.scroll-bottom-to-top6', {
  delay: 700,
  origin: 'bottom'
});
ScrollReveal().reveal('.scroll-bottom-to-top7', {
  delay: 800,
  origin: 'bottom'
});
ScrollReveal().reveal('.scroll-bottom-to-top8', {
  delay: 900,
  origin: 'bottom'
});

// Scroll left to right
ScrollReveal().reveal('.scroll-left-to-right1', {
  delay: 200,
  origin: 'left'
});
ScrollReveal().reveal('.scroll-left-to-right2', {
  delay: 300,
  origin: 'left'
});
ScrollReveal().reveal('.scroll-left-to-right3', {
  delay: 400,
  origin: 'left'
});
ScrollReveal().reveal('.scroll-left-to-right4', {
  delay: 500,
  origin: 'left'
});

// Scroll right to left
ScrollReveal().reveal('.scroll-right-to-left1', {
  delay: 200,
  origin: 'right'
});
ScrollReveal().reveal('.scroll-right-to-left2', {
  delay: 300,
  origin: 'right'
});
ScrollReveal().reveal('.scroll-right-to-left3', {
  delay: 400,
  origin: 'right'
});
ScrollReveal().reveal('.scroll-right-to-left4', {
  delay: 500,
  origin: 'right'
});

// header menu sticky when scroll
window.addEventListener('scroll', function () {
  var headerMenu = document.querySelector('.header-menu.style-two');
  if (headerMenu) {
    headerMenu.classList.toggle('sticky', window.scrollY > 700);
  }
});

// mobile menu
var mobileMenuBtn = document.querySelector('.menu-humburger');
var menuMobile = document.querySelector('#menu-mobile-block');
var menuMobileMain = document.querySelector('#menu-mobile-block .menu-mobile-main');
var closeMobileBtn = document.querySelector('#menu-mobile-block .close-block');
if (mobileMenuBtn) {
  mobileMenuBtn.addEventListener('click', function () {
    menuMobile.classList.toggle('open');
    document.querySelector('body').classList.toggle('overflow-hidden');
  });
}
if (closeMobileBtn) {
  closeMobileBtn.addEventListener('click', function () {
    menuMobile.classList.remove('open');
    document.querySelector('body').classList.remove('overflow-hidden');
  });
}

// Open sub link mobile menu
var navItems = document.querySelectorAll('#menu-mobile-block .nav-item-mobile');
if (navItems) {
  navItems.forEach(function (item, index) {
    item.addEventListener('click', function () {
      item.classList.toggle('open');
      removeOpen(index);
    });
  });
}
function removeOpen(index1) {
  navItems.forEach(function (item2, index2) {
    if (index1 != index2) {
      item2.classList.remove('open');
    }
  });
}

// Button hover
var btnMain = document.querySelectorAll('.hover-button');
if (btnMain) {
  btnMain.forEach(function (btn) {
    btn.onmousemove = function (e) {
      var x = e.pageX - btn.offsetLeft;
      var y = e.pageY - btn.offsetTop;
      btn.style.setProperty('--x', x + 'px');
      btn.style.setProperty('--y', y + 'px');
    };
  });
}

// slider
$(".slider-block .list-slider").slick({
  dots: false,
  arrows: true,
  prevArrow: '.prev-arrow',
  nextArrow: '.next-arrow',
  slidesToShow: 1,
  slidesToScroll: 1,
  touchThreshold: 100,
  infinite: false,
  swipe: true,
  swipeToSlide: true,
  autoplay: true,
  autoplaySpeed: 4000,
  speed: 800,
  // fade: true,
  pauseOnFocus: false,
  pauseOnHover: false,
  pauseOnDotsHover: false,
  responsive: [{
    breakpoint: 768,
    settings: {
      arrows: false
    }
  }]
});

// Listen event click prev, next Arrow
var prevArrow = document.querySelector('.slider-block .prev-arrow');
var nextArrow = document.querySelector('.slider-block .next-arrow');
if (prevArrow) {
  prevArrow.addEventListener('click', function () {
    var sliderActive = document.querySelector('.slider-block .slick-list .slick-active');
    var img = sliderActive.querySelector('.bg-img img');
    var heading = sliderActive.querySelector('.container .heading1');
    var subHeading = sliderActive.querySelector('.container .body2');
    var feature = sliderActive.querySelector('.container .list-feature');
    var button = sliderActive.querySelector('.container .block-button');
    var images = document.querySelectorAll('.slider-item .bg-img img');
    var headings = document.querySelectorAll('.slider-item .heading1');
    var subHeadings = document.querySelectorAll('.slider-item .body2');
    var listFeature = document.querySelectorAll('.slider-item .list-feature');
    var buttons = document.querySelectorAll('.slider-item .block-button');
    images.forEach(function (img) {
      img.classList.remove("animate__animated", "animate__fadeIn", "animate__delay-0-2s");
    });
    headings.forEach(function (p) {
      p.classList.remove("animate__animated", "animate__fadeInUp", "animate__delay-0-2s");
    });
    subHeadings.forEach(function (a) {
      a.classList.remove("animate__animated", "animate__fadeInUp", "animate__delay-0-5s");
    });
    listFeature.forEach(function (feature) {
      feature.classList.remove("animate__animated", "animate__fadeInUp", "animate__delay-0-5s");
    });
    buttons.forEach(function (btn) {
      btn.classList.remove("animate__animated", "animate__fadeInUp", "animate__delay-0-8s");
    });
    img.classList.add("animate__animated", "animate__fadeIn", "animate__delay-0-2s");
    heading.classList.add("animate__animated", "animate__fadeInUp", "animate__delay-0-2s");
    if (subHeading) {
      subHeading.classList.add("animate__animated", "animate__fadeInUp", "animate__delay-0-5s");
    }
    if (feature) {
      feature.classList.add("animate__animated", "animate__fadeInUp", "animate__delay-0-5s");
    }
    button.classList.add("animate__animated", "animate__fadeInUp", "animate__delay-0-8s");
  });
}
if (nextArrow) {
  nextArrow.addEventListener('click', function () {
    var sliderActive = document.querySelector('.slider-block .slick-list .slick-active');
    var img = sliderActive.querySelector('.bg-img img');
    var heading = sliderActive.querySelector('.container .heading1');
    var subHeading = sliderActive.querySelector('.container .body2');
    var feature = sliderActive.querySelector('.container .list-feature');
    var button = sliderActive.querySelector('.container .block-button');
    var images = document.querySelectorAll('.slider-item .bg-img img');
    var headings = document.querySelectorAll('.slider-item .heading1');
    var subHeadings = document.querySelectorAll('.slider-item .body2');
    var listFeature = document.querySelectorAll('.slider-item .list-feature');
    var buttons = document.querySelectorAll('.slider-item .block-button');
    images.forEach(function (img) {
      img.classList.remove("animate__animated", "animate__fadeIn", "animate__delay-0-2s");
    });
    headings.forEach(function (p) {
      p.classList.remove("animate__animated", "animate__fadeInUp", "animate__delay-0-2s");
    });
    subHeadings.forEach(function (a) {
      a.classList.remove("animate__animated", "animate__fadeInUp", "animate__delay-0-5s");
    });
    listFeature.forEach(function (feature) {
      feature.classList.remove("animate__animated", "animate__fadeInUp", "animate__delay-0-5s");
    });
    buttons.forEach(function (btn) {
      btn.classList.remove("animate__animated", "animate__fadeInUp", "animate__delay-0-8s");
    });
    img.classList.add("animate__animated", "animate__fadeIn", "animate__delay-0-2s");
    heading.classList.add("animate__animated", "animate__fadeInUp", "animate__delay-0-2s");
    if (subHeading) {
      subHeading.classList.add("animate__animated", "animate__fadeInUp", "animate__delay-0-5s");
    }
    if (feature) {
      feature.classList.add("animate__animated", "animate__fadeInUp", "animate__delay-0-5s");
    }
    button.classList.add("animate__animated", "animate__fadeInUp", "animate__delay-0-8s");
  });
}

// Count number
if (document.querySelector('.counter .count-number')) {
  $('.counter .count-number').counterUp({
    delay: 6,
    time: 800,
    scrollSpyOnce: true
  });
}

// news home1
$(".section-news .container .list-news").slick({
  dots: true,
  arrows: false,
  slidesToShow: 3,
  slidesToScroll: 4,
  touchThreshold: 100,
  swipe: true,
  swipeToSlide: true,
  autoplay: false,
  autoplaySpeed: 3000,
  speed: 500,
  pauseOnFocus: false,
  pauseOnHover: false,
  pauseOnDotsHover: false,
  infinite: true,
  responsive: [{
    breakpoint: 1170,
    settings: {
      slidesToShow: 2,
      slidesToScroll: 1
    }
  }, {
    breakpoint: 992,
    settings: {
      slidesToShow: 2,
      slidesToScroll: 1
    }
  }, {
    breakpoint: 768,
    settings: {
      slidesToShow: 1,
      slidesToScroll: 1
    }
  }]
});

// Change cursor
var listNews = document.querySelectorAll('.section-news .list-news .slick-list');
var mouseCursor = document.querySelector('.cursor');
if (listNews) {
  listNews.forEach(function (listNew) {
    listNew.addEventListener('mousemove', function (e) {
      mouseCursor.style.top = e.pageY + 'px';
      mouseCursor.style.left = e.pageX + 'px';
      mouseCursor.style.opacity = '1';
    });
    listNew.addEventListener('mouseout', function (e) {
      mouseCursor.style.opacity = '0';
    });
    listNew.addEventListener('mousedown', function () {
      mouseCursor.style.width = '60px';
      mouseCursor.style.height = '60px';
      mouseCursor.style.gap = '4px';
    });
    listNew.addEventListener('mouseup', function () {
      mouseCursor.style.width = '70px';
      mouseCursor.style.height = '70px';
      mouseCursor.style.gap = '12px';
    });
  });
}

// testimonial home1
$(".section-testimonial.style-one .testimonial-item").slick({
  dots: true,
  arrows: false,
  slidesToShow: 1,
  slidesToScroll: 4,
  touchThreshold: 100,
  swipe: true,
  swipeToSlide: true,
  autoplay: false,
  autoplaySpeed: 3000,
  speed: 500,
  pauseOnFocus: false,
  pauseOnHover: false,
  pauseOnDotsHover: false,
  infinite: true
});

// Change avatar testimonial home1
var dots = document.querySelectorAll('.section-testimonial.style-one .testimonial-item .slick-dots li');
var listAvatar = document.querySelector('.section-testimonial.style-one .list-avatar');
var avatar = document.querySelectorAll('.section-testimonial.style-one .list-avatar .bg-img');
if (dots) {
  dots.forEach(function (dot) {
    dot.addEventListener('click', function () {
      avatar.forEach(function (item) {
        var indexAvatar = item.getAttribute('data-name');
        var testimonialCurrent = document.querySelector('.section-testimonial.style-one .testimonial-item .slick-current');
        var indexCmt = testimonialCurrent.getAttribute('data-slick-index');
        if (indexCmt === indexAvatar) {
          listAvatar.querySelector('.active').classList.remove('active');
          item.classList.add('active');
        }
      });
    });
  });
}
var slickList = document.querySelector('.section-testimonial.style-one .testimonial-item .slick-list');
if (slickList) {
  slickList.addEventListener('mousemove', function (e) {
    avatar.forEach(function (item) {
      var indexAvatar = item.getAttribute('data-name');
      var testimonialCurrent = document.querySelector('.section-testimonial.style-one .testimonial-item .slick-current');
      var indexCmt = testimonialCurrent.getAttribute('data-slick-index');
      if (indexCmt === indexAvatar) {
        listAvatar.querySelector('.active').classList.remove('active');
        item.classList.add('active');
      }
    });
  });
}

// testimonial home2
$(".section-testimonial.style-two .container .list-comment").slick({
  dots: true,
  arrows: false,
  slidesToShow: 2,
  slidesToScroll: 2,
  touchThreshold: 100,
  swipe: true,
  swipeToSlide: true,
  autoplay: true,
  autoplaySpeed: 3000,
  speed: 500,
  pauseOnFocus: false,
  pauseOnHover: false,
  pauseOnDotsHover: false,
  infinite: true,
  responsive: [{
    breakpoint: 1170,
    settings: {
      slidesToShow: 2,
      slidesToScroll: 1
    }
  }, {
    breakpoint: 992,
    settings: {
      slidesToShow: 1,
      slidesToScroll: 1
    }
  }, {
    breakpoint: 768,
    settings: {
      slidesToShow: 1,
      slidesToScroll: 1
    }
  }]
});

// circle box about home3
var textBoxCircle = document.querySelector('.section-about .text-box-circle .text-label');
if (textBoxCircle) {
  textBoxCircle.innerHTML = textBoxCircle.innerText.split('').map(function (_char, i) {
    return "<span style=\"transform: rotate(".concat(i * 10.5, "deg);\">").concat(_char, "</span>");
  }).join('');
}

// industry home3
$(".section-industry .row").slick({
  dots: true,
  arrows: false,
  slidesToShow: 4,
  slidesToScroll: 10,
  touchThreshold: 100,
  swipe: true,
  swipeToSlide: true,
  autoplay: true,
  autoplaySpeed: 3000,
  speed: 400,
  pauseOnFocus: false,
  pauseOnHover: false,
  pauseOnDotsHover: false,
  responsive: [{
    breakpoint: 1600,
    settings: {
      slidesToShow: 3,
      slidesToScroll: 1
    }
  }, {
    breakpoint: 1200,
    settings: {
      slidesToShow: 2,
      slidesToScroll: 1
    }
  }, {
    breakpoint: 768,
    settings: {
      slidesToShow: 1,
      slidesToScroll: 1
    }
  }]
});

// Change cursor home3
var listIndustry = document.querySelector('.section-industry .list-industry .slick-list');
if (listIndustry) {
  listIndustry.addEventListener('mousemove', function (e) {
    mouseCursor.style.top = e.pageY + 'px';
    mouseCursor.style.left = e.pageX + 'px';
    mouseCursor.style.opacity = '1';
  });
  listIndustry.addEventListener('mouseout', function (e) {
    mouseCursor.style.opacity = '0';
  });
  listIndustry.addEventListener('mousedown', function () {
    mouseCursor.style.width = '60px';
    mouseCursor.style.height = '60px';
    mouseCursor.style.gap = '4px';
  });
  listIndustry.addEventListener('mouseup', function () {
    mouseCursor.style.width = '70px';
    mouseCursor.style.height = '70px';
    mouseCursor.style.gap = '12px';
  });
}

// section success stories home6
$(".section-success-stories .list").slick({
  dots: true,
  arrows: false,
  slidesToShow: 3,
  slidesToScroll: 4,
  touchThreshold: 100,
  swipe: true,
  swipeToSlide: true,
  autoplay: false,
  autoplaySpeed: 3000,
  speed: 500,
  pauseOnFocus: false,
  pauseOnHover: false,
  pauseOnDotsHover: false,
  infinite: true,
  responsive: [{
    breakpoint: 1170,
    settings: {
      slidesToShow: 2,
      slidesToScroll: 1
    }
  }, {
    breakpoint: 992,
    settings: {
      slidesToShow: 2,
      slidesToScroll: 1
    }
  }, {
    breakpoint: 768,
    settings: {
      slidesToShow: 1,
      slidesToScroll: 1
    }
  }]
});

// change switch btn pricing home6
var switchBtn = document.querySelector('.switch');
var listPricingMonth = document.querySelector('.list-pricing');
var listPricingYear = document.querySelector('.list-pricing-year');
if (switchBtn) {
  switchBtn.addEventListener('click', function () {
    switchBtn.classList.toggle('enable');
    var text = switchBtn.parentElement.querySelectorAll('.text-title');
    text.forEach(function (item) {
      if (item.classList.contains('text-on-surface-variant1')) {
        item.classList.remove('text-on-surface-variant1');
      } else {
        item.classList.add('text-on-surface-variant1');
      }
    });
    if (switchBtn.classList.contains('enable')) {
      listPricingMonth.classList.remove('show');
      listPricingMonth.classList.add('hide');
      listPricingYear.classList.remove('hide');
      listPricingYear.classList.add('show');
    } else {
      if (listPricingYear.classList.contains('show')) {
        listPricingYear.classList.remove('show');
      }
      listPricingYear.classList.add('hide');
      if (listPricingMonth.classList.contains('hide')) {
        listPricingMonth.classList.remove('hide');
      }
      listPricingMonth.classList.add('show');
    }
  });
}

// testimonial home7
$(".section-testimonial.style-seven .container .list-comment").slick({
  dots: true,
  arrows: false,
  slidesToShow: 3,
  slidesToScroll: 3,
  touchThreshold: 100,
  swipe: true,
  swipeToSlide: true,
  autoplay: true,
  autoplaySpeed: 3000,
  speed: 500,
  pauseOnFocus: false,
  pauseOnHover: false,
  pauseOnDotsHover: false,
  infinite: true,
  responsive: [{
    breakpoint: 1170,
    settings: {
      slidesToShow: 2,
      slidesToScroll: 1
    }
  }, {
    breakpoint: 992,
    settings: {
      slidesToShow: 2,
      slidesToScroll: 1
    }
  }, {
    breakpoint: 768,
    settings: {
      slidesToShow: 1,
      slidesToScroll: 1
    }
  }]
});

// Video modal Home7
var videoModal = document.querySelector('.js-video-modal');
var videoModalContainer = document.querySelector('.js-video-modal-container');
var closeVideo = document.querySelector('.js-modal-close');
var playBtn = document.querySelector('.video-block .ph-play');

//Show modal video
function showVideo() {
  if (videoModal) {
    videoModal.classList.add('open');
  }
}

//Close modal video
function removeVideoModal() {
  if (videoModal) {
    videoModal.classList.remove('open');
  }
}

//Listen click
if (playBtn) {
  playBtn.addEventListener('click', showVideo);
}

//Listen click and close modal video
if (closeVideo) {
  closeVideo.addEventListener('click', removeVideoModal);
}

//Listen click outside modal-container and close modal video
if (videoModal) {
  videoModal.addEventListener('click', removeVideoModal);
}
if (videoModalContainer) {
  videoModalContainer.addEventListener('click', function (event) {
    event.stopPropagation();
  });
}

// Like Blog Detail
var comments = document.querySelectorAll('.blog-detail-page .blog-comment .comment-item .like');
if (comments) {
  comments.forEach(function (cmt) {
    cmt.addEventListener('click', function () {
      cmt.classList.toggle('liked');
      var heartIcon = cmt.querySelector('i');
      var numberLiked = cmt.querySelector('.text-button');
      var number = parseFloat(numberLiked.innerHTML);
      if (cmt.classList.contains('liked')) {
        heartIcon.classList.replace('ph-light', 'ph-fill');
        number = number + 1;
        numberLiked.innerHTML = number.toString();
      } else {
        heartIcon.classList.replace('ph-fill', 'ph-light');
        number = number - 1;
        numberLiked.innerHTML = number.toString();
      }
    });
  });
}

// Show, hide reply Blog Detail
var showReplyBtn = document.querySelectorAll('.blog-detail-page .blog-comment .comment-item .cmt');
var listReply = document.querySelectorAll('.blog-detail-page .blog-comment .list-reply');
if (showReplyBtn) {
  showReplyBtn.forEach(function (btn) {
    btn.addEventListener('click', function () {
      var parentCmt = btn.parentElement.parentElement.parentElement;
      var dataCmt = parentCmt.getAttribute('data-cmt');
      listReply.forEach(function (reply) {
        var dataReply = reply.getAttribute('data-cmt');
        if (dataReply == dataCmt) {
          reply.classList.toggle('show');
          btn.classList.toggle('show');
          var textShow = btn.querySelector('.text-button');
          if (btn.classList.contains('show')) {
            textShow.innerHTML = 'Hide Replies';
          } else {
            textShow.innerHTML = 'Show Replies';
          }
        }
      });
    });
  });
}